const g="/assets/en-q2oZljlW.json",d="/assets/ko-i1twgMWf.json",s="preferredLang",i=["ko","en"];function m(t){return new URL(Object.assign({"../i18n/en.json":g,"../i18n/ko.json":d})[`../i18n/${t}.json`],import.meta.url).href}let r=null;const a={};function u(){const t=(navigator.language||"en").slice(0,2);return i.includes(t)?t:"en"}function _(){return r||localStorage.getItem(s)||u()}async function j(){const t=localStorage.getItem(s),n=t&&i.includes(t)?t:u();await l(n,{persist:!1})}async function p(){const t=_()==="ko"?"en":"ko";return await l(t),t}async function l(t,{persist:n=!0}={}){if(i.includes(t)||(t="en"),n&&localStorage.setItem(s,t),r=t,!a[t]){const e=await fetch(m(t),{cache:"no-store"});a[t]=e.ok?await e.json():{}}document.documentElement.lang=t,k(a[t])}function k(t,n=document){n.querySelectorAll("[data-i18n-key]").forEach(e=>{const f=e.getAttribute("data-i18n-key"),o=t[f];if(o==null)return;const c=e.getAttribute("data-i18n-attr");if(c){e.setAttribute(c,o);return}(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&"placeholder"in e?e.placeholder=o:e.tagName==="IMG"?e.alt=o:e.textContent=o})}export{_ as g,j as i,l as s,p as t};
